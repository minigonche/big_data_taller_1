{% extends 'app2/historic_growth.html' %}

{% block slider %}

<FORM method="post" id="form">{% csrf_token %}
<P>
<input type="range" name="date" min="1" max="140" value="1" class="slider" id="myRange">



<p>Month: <span id="demo"></span></p><br>
<!--<INPUT type="submit" name="Send">-->
</P>
</FORM>

<script>
    var slider = document.getElementById("myRange");
    var output = document.getElementById("demo");

    output.innerHTML = slider.value;


    slider.oninput = function() {
      output.innerHTML = this.value;
    };

    slider.onmouseup = function () {

    const months_names = ['Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec','Jan', 'Feb', 'Mar'];

    if(slider.value) {
        console.log(slider.value);
        var year = Math.round(parseInt(slider.value) / 12) + 2007;
        var month = (parseInt(slider.value) - 1) % 12;
        month = months_names[month];
        var date = month.concat(' - ').concat(String(year));
        console.log(date);
    } else {
        date = 'Apr - 2007';
        console.log(date);
    }
      document.getElementById("form").submit();
    }
</script>

{% endblock %}